% BEGIN header.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Additional math packages
\usepackage{mathtools}
\usepackage[italicdiff]{physics}
\usepackage{amsmath}

% Paper-specific custom commands and definitions here



% For Typst, copy any custom commands from this file into _header.md or the main
% document. Delete any comments, including ones at the end of lines.
% If using `\qty' from `physics`, also include \providecommand{\qty}{}
% If using `\vb' and `\vb*' from `physics`, copy the two lines near the bottom

% Blackboard bold sets and the empty set
\newcommand{\C}{\ensuremath{\mathbb{C}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\renewcommand{\empty}{\varnothing}

% quick matrices and common fractions
\newcommand{\m}[1]{\begin{pmatrix}#1\end{pmatrix}}  % a matrix or vector
\newcommand{\sm}[1]{\begin{psmallmatrix}#1\end{psmallmatrix}}
\newcommand{\half}{\frac{1}{2}}
\newcommand{\thalf}{\tfrac{1}{2}}
\newcommand{\third}{\frac{1}{3}}
\newcommand{\quarter}{\frac{1}{4}}

\newcommand{\eps}{\varepsilon} % A cursivelike epsilon

% common operators
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% probability operators, abbrevations, and notions of convergence
\DeclareMathOperator{\E}{\mathbb{E}}
\let\Pr\undefined % delete this line if using Typst
\DeclareMathOperator{\Pr}{\mathbb{P}}
\newcommand{\indep}{\mathbin{\perp\!\!\!\!\!\:\perp}} % use \perp for orthogonality only
\newcommand{\gvn}{\;\middle|\;} % use \gvn rather than \mid inside a tall expectation
\newcommand{\F}{\ensuremath{\mathcal{F}}} % generic sigma algebra
\newcommand{\B}{\ensuremath{\mathcal{B}}}
\newcommand{\ind}{\mathbf{1}}
\newcommand{\iid}{\mathrel{\stackrel{iid}{\sim}}} % iid on top of ~
\newcommand{\rv}{random variable}
\newcommand{\rvs}{random variables}
\newcommand{\iidt}{independent and identically distributed}
\newcommand{\cvp}{\xrightarrow{\:p\,}}
\newcommand{\cvw}{\xrightarrow{\,w\,}}
\newcommand{\cvd}{\xrightarrow{\,d\,}}
\newcommand{\cvas}{\xrightarrow{\;\!a.s.\:\!}}
\newcommand{\cvlp}[1]{\xrightarrow{\;\!L^{#1}\,\!}} % e.g. \cvlp{2} for L2 conv.

% additional operators and common distributions
\DeclareMathOperator{\Var}{\mathbb{V}}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\Corr}{Corr}
\DeclareMathOperator{\Unif}{Unif}
\DeclareMathOperator{\Expo}{Expo}
\DeclareMathOperator{\Cauchy}{Cauchy}
\DeclareMathOperator{\logit}{logit}
\newcommand{\Inv}{\mathrm{Inv-}}
\newcommand{\Pois}{\mathrm{Pois}\qty}
\newcommand{\Beta}{\mathrm{Beta}\qty}
\newcommand{\Dirichlet}{\mathrm{Dirichlet}\qty}
\newcommand{\Gam}{\mathrm{Gamma}\qty}
\newcommand{\Wei}{\mathrm{Wei}\qty}
\newcommand{\Hyper}{\mathrm{HGeom}\qty}
\newcommand{\Binom}{\mathrm{Bin}\qty}
\newcommand{\NBinom}{\mathrm{NBin}\qty}
\newcommand{\Multinom}{\mathrm{Multinom}\qty}
\newcommand{\Bern}{\mathrm{Bern}\qty}
\newcommand{\Bernoulli}{\mathrm{Bernoulli}\qty}
\newcommand{\Norm}{\mathcal{N}\qty}
\newcommand{\MVNorm}[1][]{\mathcal{N}_{#1}\qty} % e.g. \MVNorm{p} for a p-dim distr.
\newcommand{\Student}{\mathrm{Student-}\mathit{t}\qty}

% delimiters -- do not work with Typst
\DeclarePairedDelimiter\br{\langle}{\rangle}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
\DeclarePairedDelimiter\round{\lceil}{\rfloor}
\DeclarePairedDelimiter\set{\{}{\}}

% Vector bold; \vb is for Latin and \vbg for Greek letters
\providecommand{\vb}[1]{\mathbf{#1}}
\providecommand{\vbg}[1]{\boldsymbol{#1}}

% Add \numberthis to the end of a line in an `align*` environment to get a number
\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

% Named assumptions:
% Use \begin{assump}[Optional label]{KEY} to create an assumption
% Reference it with \ref{a-key}, where `key` is the lowercased version of `KEY`
\makeatletter
\newcommand{\assumplabel}[2]{%
   \protected@write \@auxout {}{\string\newlabel{#1}{{#2}{\thepage}{#2}{#1}{}}}%
   \hypertarget{#1}{#2}%
}
\makeatother
\newenvironment{assump}[2][]{%
\par\medskip%
\def\tempa{}\def\tempb{#1}%
\lowercase{\def\lblkey{a-#2}}%
\textbf{Assumption \assumplabel{\lblkey}{#2}}%
\ifx\tempa\tempb\else~(#1)\fi%
\textbf{.}\itshape
}{\normalfont}

% END header.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%